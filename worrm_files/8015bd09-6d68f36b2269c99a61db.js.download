"use strict";(self.webpackChunkwormhole=self.webpackChunkwormhole||[]).push([[8766],{12119:function(e,t,r){r.d(t,{nh:function(){return U}});var n=r(4942),i=r(29439),a=r(93433),o=r(28664),s=r(15861),u=r(60136),c=r(82963),l=r(61120),d=r(15671),y=r(43144),h=(r(84944),r(33792),r(65743),r(64687)),p=r.n(h),f=r(40599),g=r(48657),b=r(36106),k=r(67675),m=r.n(k),v=r(46785),I=r.n(v),S=r(26070),x=r(63241),w=r(27841),A=r(22456),P=r(80207),W=(r(92199),r(26172),r(16189)),_=r(86805),R=r(77784);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}b.P6.sha512Sync=function(){var e;return(0,g.o)((e=b.P6).concatBytes.apply(e,arguments))};b.P6.randomPrivateKey;var O=function(){var e=b.P6.randomPrivateKey(),t=T(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},T=b.Z_.getPublicKey;function q(e){try{return b.E9.fromHex(e,!0),!0}catch(t){return!1}}var j=function(e,t){return b.Z_.sign(e,t.slice(0,32))},J=b.Z_.verify,G=function(e){return f.lW.isBuffer(e)?e:e instanceof Uint8Array?f.lW.from(e.buffer,e.byteOffset,e.byteLength):f.lW.from(e)},X=function(){function e(t){(0,d.Z)(this,e),Object.assign(this,t)}return(0,y.Z)(e,[{key:"encode",value:function(){return f.lW.from((0,x.serialize)(C,this))}}],[{key:"decode",value:function(e){return(0,x.deserialize)(C,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,x.deserializeUnchecked)(C,this,e)}}]),e}(),C=new Map,L=32;var M=1,U=function(e){(0,u.Z)(a,e);var t,r,n,i=E(a);function a(e){var t;if((0,d.Z)(this,a),(t=i.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))t._bn=e._bn;else{if("string"==typeof e){var r=I().decode(e);if(r.length!=L)throw new Error("Invalid public key input");t._bn=new(m())(r)}else t._bn=new(m())(e);if(t._bn.byteLength()>32)throw new Error("Invalid public key input")}return t}return(0,y.Z)(a,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return I().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(f.lW);if(e.length===L)return e;var t=f.lW.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var e=new a(M);return M+=1,new a(e.toBuffer())}},{key:"createWithSeed",value:(n=(0,s.Z)(p().mark((function e(t,r,n){var i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.lW.concat([t.toBuffer(),f.lW.from(r),n.toBuffer()]),o=(0,S.J)(i),e.abrupt("return",new a(o));case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createProgramAddressSync",value:function(e,t){var r=f.lW.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=f.lW.concat([r,G(e)])})),r=f.lW.concat([r,t.toBuffer(),f.lW.from("ProgramDerivedAddress")]);var n=(0,S.J)(r);if(q(n))throw new Error("Invalid seeds, address must fall off the curve");return new a(n)}},{key:"createProgramAddress",value:(r=(0,s.Z)(p().mark((function e(t,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"findProgramAddressSync",value:function(e,t){for(var r,n=255;0!=n;){try{var i=e.concat(f.lW.from([n]));r=this.createProgramAddressSync(i,t)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:(t=(0,s.Z)(p().mark((function e(t,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"isOnCurve",value:function(e){return q(new a(e).toBytes())}}]),a}(X);U.default=new U("11111111111111111111111111111111"),C.set(U,{kind:"struct",fields:[["_bn","u256"]]});new U("BPFLoader1111111111111111111111111111111111");var D=1232,N=function(e){(0,u.Z)(r,e);var t=E(r);function r(e){var n;return(0,d.Z)(this,r),(n=t.call(this,"Signature ".concat(e," has expired: block height exceeded."))).signature=void 0,n.signature=e,n}return(0,y.Z)(r)}((0,o.Z)(Error));Object.defineProperty(N.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var V=function(e){(0,u.Z)(r,e);var t=E(r);function r(e,n){var i;return(0,d.Z)(this,r),(i=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools."))).signature=void 0,i.signature=e,i}return(0,y.Z)(r)}((0,o.Z)(Error));Object.defineProperty(V.prototype,"name",{value:"TransactionExpiredTimeoutError"});var H=function(){function e(t,r){(0,d.Z)(this,e),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}return(0,y.Z)(e,[{key:"keySegments",value:function(){var e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}},{key:"get",value:function(e){var t,r=K(this.keySegments());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e<n.length)return n[e];e-=n.length}}catch(i){r.e(i)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");var t=new Map;this.keySegments().flat().forEach((function(e,r){t.set(e.toBase58(),r)}));var r=function(e){var r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((function(e){return{programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((function(e){return r(e.pubkey)})),data:e.data}}))}}]),e}(),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return w.Ik(32,e)},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=w.n_([w.Jq("length"),w.Jq("lengthPadding"),w.Ik(w.cv(w.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){return r(e,t).chars.toString()},i.encode=function(e,t,r){var i={chars:f.lW.from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return w.Jq().span+w.Jq().span+f.lW.from(e,"utf8").length},i};function $(e,t){var r=function e(r){if(r.span>=0)return r.span;if("function"==typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}else if("fields"in r)return $({layout:r},t[r.property]);return 0},n=0;return e.layout.fields.forEach((function(e){n+=r(e)})),n}function Y(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function ee(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}function te(e,t){if(!e)throw new Error(t||"Assertion failed")}var re,ne=function(){function e(t,r){(0,d.Z)(this,e),this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}return(0,y.Z)(e,[{key:"getMessageComponents",value:function(){var e=(0,a.Z)(this.keyMetaMap.entries());te(e.length<=256,"Max static account keys length exceeded");var t=e.filter((function(e){var t=(0,i.Z)(e,2)[1];return t.isSigner&&t.isWritable})),r=e.filter((function(e){var t=(0,i.Z)(e,2)[1];return t.isSigner&&!t.isWritable})),n=e.filter((function(e){var t=(0,i.Z)(e,2)[1];return!t.isSigner&&t.isWritable})),o=e.filter((function(e){var t=(0,i.Z)(e,2)[1];return!t.isSigner&&!t.isWritable})),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};return te(t.length>0,"Expected at least one writable signer key"),te((0,i.Z)(t[0],1)[0]===this.payer.toBase58(),"Expected first writable signer key to be the fee payer"),[s,[].concat((0,a.Z)(t.map((function(e){var t=(0,i.Z)(e,1)[0];return new U(t)}))),(0,a.Z)(r.map((function(e){var t=(0,i.Z)(e,1)[0];return new U(t)}))),(0,a.Z)(n.map((function(e){var t=(0,i.Z)(e,1)[0];return new U(t)}))),(0,a.Z)(o.map((function(e){var t=(0,i.Z)(e,1)[0];return new U(t)}))))]}},{key:"extractTableLookup",value:function(e){var t=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&e.isWritable})),r=(0,i.Z)(t,2),n=r[0],a=r[1],o=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&!e.isWritable})),s=(0,i.Z)(o,2),u=s[0],c=s[1];if(0!==n.length||0!==u.length)return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:u},{writable:a,readonly:c}]}},{key:"drainKeysFoundInLookupTable",value:function(e,t){var r,n=this,a=new Array,o=new Array,s=K(this.keyMetaMap.entries());try{var u=function(){var s=(0,i.Z)(r.value,2),u=s[0],c=s[1];if(t(c)){var l=new U(u),d=e.findIndex((function(e){return e.equals(l)}));d>=0&&(te(d<256,"Max lookup table index exceeded"),a.push(d),o.push(l),n.keyMetaMap.delete(u))}};for(s.s();!(r=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return[a,o]}}],[{key:"compile",value:function(t,r){var n=new Map,i=function(e){var t=e.toBase58(),r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},a=i(r);a.isSigner=!0,a.isWritable=!0;var o,s=K(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;i(u.programId).isInvoked=!0;var c,l=K(u.keys);try{for(l.s();!(c=l.n()).done;){var d=c.value,y=i(d.pubkey);y.isSigner||(y.isSigner=d.isSigner),y.isWritable||(y.isWritable=d.isWritable)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}return new e(r,n)}}]),e}(),ie=function(){function e(t){var r=this;(0,d.Z)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new U(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return(0,y.Z)(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:I().decode(e.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new H(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return(0,a.Z)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];ee(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(I().decode(e.data)),i=[];ee(i,t.length);var a=[];return ee(a,n.length),{programIdIndex:r,keyIndicesCount:f.lW.from(i),keyIndices:t,dataLength:f.lW.from(a),data:n}})),n=[];ee(n,r.length);var i=f.lW.alloc(D);f.lW.from(n).copy(i);var a=n.length;r.forEach((function(e){var t=w.n_([w.u8("programIdIndex"),w.Ik(e.keyIndicesCount.length,"keyIndicesCount"),w.A9(w.u8("keyIndex"),e.keyIndices.length,"keyIndices"),w.Ik(e.dataLength.length,"dataLength"),w.A9(w.u8("userdatum"),e.data.length,"data")]).encode(e,i,a);a+=t})),i=i.slice(0,a);var o=w.n_([w.Ik(1,"numRequiredSignatures"),w.Ik(1,"numReadonlySignedAccounts"),w.Ik(1,"numReadonlyUnsignedAccounts"),w.Ik(t.length,"keyCount"),w.A9(F("key"),e,"keys"),F("recentBlockhash")]),s={numRequiredSignatures:f.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:f.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:f.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:f.lW.from(t),keys:this.accountKeys.map((function(e){return G(e.toBytes())})),recentBlockhash:I().decode(this.recentBlockhash)},u=f.lW.alloc(2048),c=o.encode(s,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"compile",value:function(t){var r=ne.compile(t.instructions,t.payerKey).getMessageComponents(),n=(0,i.Z)(r,2),a=n[0],o=n[1],s=new H(o).compileInstructions(t.instructions).map((function(e){return{programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:I().encode(e.data)}}));return new e({header:a,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:s})}},{key:"from",value:function(t){var r=(0,a.Z)(t),n=r.shift();if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),o=r.shift(),s=Y(r),u=[],c=0;c<s;c++){var l=r.slice(0,L);r=r.slice(L),u.push(new U(f.lW.from(l)))}for(var d=r.slice(0,L),y=Y(r=r.slice(L)),h=[],p=0;p<y;p++){var g=r.shift(),b=Y(r),k=r.slice(0,b),m=Y(r=r.slice(b)),v=r.slice(0,m),S=I().encode(f.lW.from(v));r=r.slice(m),h.push({programIdIndex:g,accounts:k,data:S})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:I().encode(f.lW.from(d)),accountKeys:u,instructions:h})}}]),e}();!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(re||(re={}));var ae=f.lW.alloc(64).fill(0),oe=function(){function e(t){(0,d.Z)(this,e),this.keys=void 0,this.programId=void 0,this.data=f.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return(0,y.Z)(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:(0,a.Z)(this.data)}}}]),e}(),se=function(){function e(t){if((0,d.Z)(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var r=t.blockhash,n=t.lastValidBlockHeight;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{var i=t.recentBlockhash,a=t.nonceInfo;a&&(this.nonceInfo=a),this.recentBlockhash=i}}var t;return(0,y.Z)(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){return e.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new oe(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat((0,a.Z)(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var o=[],s=[];t.forEach((function(e){e.keys.forEach((function(e){s.push(z({},e))}));var t=e.programId.toString();o.includes(t)||o.push(t)})),o.forEach((function(e){s.push({pubkey:new U(e),isSigner:!1,isWritable:!1})}));var u=[];s.forEach((function(e){var t=e.pubkey.toString(),r=u.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(u[r].isWritable=u[r].isWritable||e.isWritable,u[r].isSigner=u[r].isSigner||e.isSigner):u.push(e)})),u.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));var c=u.findIndex((function(e){return e.pubkey.equals(r)}));if(c>-1){var l=u.splice(c,1),d=(0,i.Z)(l,1)[0];d.isSigner=!0,d.isWritable=!0,u.unshift(d)}else u.unshift({pubkey:r,isSigner:!0,isWritable:!0});var y,h=K(this.signatures);try{var p=function(){var e=y.value,t=u.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));u[t].isSigner||(u[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(h.s();!(y=h.n()).done;)p()}catch(x){h.e(x)}finally{h.f()}var f=0,g=0,b=0,k=[],m=[];u.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(k.push(t.toString()),f+=1,n||(g+=1)):(m.push(t.toString()),n||(b+=1))}));var v=k.concat(m),S=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:v.indexOf(r.toString()),accounts:e.keys.map((function(e){return v.indexOf(e.pubkey.toString())})),data:I().encode(t)}}));return S.forEach((function(e){te(e.programIdIndex>=0),e.accounts.forEach((function(e){return te(e>=0)}))})),new ie({header:{numRequiredSignatures:f,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:b},accountKeys:v,recentBlockhash:e,instructions:S})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:(t=(0,s.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],a=0,o=t;a<o.length;a++){var s=o[a],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],a=0,o=t;a<o.length;a++){var s=o[a],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i.forEach((function(e){var n=j(r,e.secretKey);t._addSignature(e.publicKey,G(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){te(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=f.lW.from(t)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=K(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.signature,o=i.publicKey;if(null===a){if(t)return!1}else if(!J(a,e,o.toBuffer()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];ee(r,t.length);var n=r.length+64*t.length+e.length,i=f.lW.alloc(n);return te(t.length<256),f.lW.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(te(64===n.length,"signature has invalid length"),f.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),te(i.length<=D,"Transaction too large: ".concat(i.length," > ").concat(D)),i}},{key:"keys",get:function(){return te(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return te(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return te(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=(0,a.Z)(t),n=Y(r),i=[],o=0;o<n;o++){var s=r.slice(0,64);r=r.slice(64),i.push(I().encode(f.lW.from(s)))}return e.populate(ie.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==I().encode(ae)?null:I().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new oe({keys:r,programId:t.accountKeys[e.programIdIndex],data:I().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}(),ue=new U("SysvarC1ock11111111111111111111111111111111"),ce=(new U("SysvarEpochSchedu1e111111111111111111111111"),new U("Sysvar1nstructions1111111111111111111111111"),new U("SysvarRecentB1ockHashes11111111111111111111")),le=new U("SysvarRent111111111111111111111111111111111"),de=(new U("SysvarRewards111111111111111111111111111111"),new U("SysvarS1otHashes111111111111111111111111111"),new U("SysvarS1otHistory11111111111111111111111111"),new U("SysvarStakeHistory1111111111111111111111111"));function ye(e,t,r,n){return he.apply(this,arguments)}function he(){return he=(0,s.Z)(p().mark((function e(t,r,n,i){var a,o,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,a);case 3:if(o=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({signature:o,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:e.t0=e.sent.value,e.next=13;break;case 10:return e.next=12,t.confirmTransaction(o,i&&i.commitment);case 12:e.t0=e.sent.value;case 13:if(!(s=e.t0).err){e.next=16;break}throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(s),")"));case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function pe(e){return new Promise((function(t){return setTimeout(t,e)}))}function fe(e,t){var r=e.layout.span>=0?e.layout.span:$(e,t),n=f.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var ge,be=w._O("lamportsPerSignature"),ke=w.n_([w.Jq("version"),w.Jq("state"),F("authorizedPubkey"),F("nonce"),w.n_([be],"feeCalculator")]),me=ke.span,ve=(ge=8,function(e){var t=(0,w.Ik)(ge,e),r=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),n=r.encode,i=r.decode,a=t;return a.decode=function(e,t){var r=i(e,t);return(0,A.oU)(f.lW.from(r))},a.encode=function(e,t,r){var i=(0,A.k$)(e,ge);return n(i,t,r)},a}),Ie=Object.freeze({Create:{index:0,layout:w.n_([w.Jq("instruction"),w.gM("lamports"),w.gM("space"),F("programId")])},Assign:{index:1,layout:w.n_([w.Jq("instruction"),F("programId")])},Transfer:{index:2,layout:w.n_([w.Jq("instruction"),ve("lamports")])},CreateWithSeed:{index:3,layout:w.n_([w.Jq("instruction"),F("base"),Q("seed"),w.gM("lamports"),w.gM("space"),F("programId")])},AdvanceNonceAccount:{index:4,layout:w.n_([w.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:w.n_([w.Jq("instruction"),w.gM("lamports")])},InitializeNonceAccount:{index:6,layout:w.n_([w.Jq("instruction"),F("authorized")])},AuthorizeNonceAccount:{index:7,layout:w.n_([w.Jq("instruction"),F("authorized")])},Allocate:{index:8,layout:w.n_([w.Jq("instruction"),w.gM("space")])},AllocateWithSeed:{index:9,layout:w.n_([w.Jq("instruction"),F("base"),Q("seed"),w.gM("space"),F("programId")])},AssignWithSeed:{index:10,layout:w.n_([w.Jq("instruction"),F("base"),Q("seed"),F("programId")])},TransferWithSeed:{index:11,layout:w.n_([w.Jq("instruction"),ve("lamports"),Q("seed"),F("programId")])},UpgradeNonceAccount:{index:12,layout:w.n_([w.Jq("instruction")])}}),Se=function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"createAccount",value:function(e){var t=fe(Ie.Create,{lamports:e.lamports,space:e.space,programId:G(e.programId.toBuffer())});return new oe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=fe(Ie.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:G(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=fe(Ie.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new oe({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=fe(Ie.AssignWithSeed,{base:G(e.basePubkey.toBuffer()),seed:e.seed,programId:G(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=fe(Ie.Assign,{programId:G(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new oe({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=fe(Ie.CreateWithSeed,{base:G(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:G(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oe({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new se;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:me,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:me,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=fe(Ie.InitializeNonceAccount,{authorized:G(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ce,isSigner:!1,isWritable:!1},{pubkey:le,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new oe(r)}},{key:"nonceAdvance",value:function(e){var t=fe(Ie.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ce,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new oe(r)}},{key:"nonceWithdraw",value:function(e){var t=fe(Ie.WithdrawNonceAccount,{lamports:e.lamports});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ce,isSigner:!1,isWritable:!1},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=fe(Ie.AuthorizeNonceAccount,{authorized:G(e.newAuthorizedPubkey.toBuffer())});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=fe(Ie.AllocateWithSeed,{base:G(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:G(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=fe(Ie.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new oe({keys:r,programId:this.programId,data:t})}}]),e}();Se.programId=new U("11111111111111111111111111111111");var xe=function(){function e(){(0,d.Z)(this,e)}var t;return(0,y.Z)(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:(t=(0,s.Z)(p().mark((function t(r,n,i,a,o){var s,u,c,l,d,y,h,g,b,k,m,v,I,S;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(o.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==o.length&&(c=c||new se).add(Se.allocate({accountPubkey:i.publicKey,space:o.length})),u.owner.equals(a)||(c=c||new se).add(Se.assign({accountPubkey:i.publicKey,programId:a})),u.lamports<s&&(c=c||new se).add(Se.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-u.lamports})),t.next=17;break;case 16:c=(new se).add(Se.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:o.length,programId:a}));case 17:if(null===c){t.next=20;break}return t.next=20,ye(r,c,[n,i],{commitment:"confirmed"});case 20:l=w.n_([w.Jq("instruction"),w.Jq("offset"),w.Jq("bytesLength"),w.Jq("bytesLengthPadding"),w.A9(w.u8("byte"),w.cv(w.Jq(),-8),"bytes")]),d=e.chunkSize,y=0,h=o,g=[];case 25:if(!(h.length>0)){t.next=39;break}if(b=h.slice(0,d),k=f.lW.alloc(d+16),l.encode({instruction:0,offset:y,bytes:b,bytesLength:0,bytesLengthPadding:0},k),m=(new se).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:a,data:k}),g.push(ye(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return t.next=35,pe(250);case 35:y+=d,h=h.slice(d),t.next=25;break;case 39:return t.next=41,Promise.all(g);case 41:return v=w.n_([w.Jq("instruction")]),I=f.lW.alloc(v.span),v.encode({instruction:1},I),S=(new se).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1}],programId:a,data:I}),t.next=47,ye(r,S,[n,i],{commitment:"confirmed"});case 47:return t.abrupt("return",!0);case 48:case"end":return t.stop()}}),t)}))),function(e,r,n,i,a){return t.apply(this,arguments)})}]),e}();xe.chunkSize=932;new U("BPFLoader2111111111111111111111111111111111"),Object.prototype.toString,Object.keys;Error,Error,globalThis.fetch;var we;w.n_([w.Jq("typeIndex"),ve("deactivationSlot"),w._O("lastExtendedSlot"),w.u8("lastExtendedStartIndex"),w.u8(),w.A9(F(),w.cv(w.u8(),-1),"authority")]);var Ae=(0,P.oQ)((0,P.eE)(U),(0,P.Z_)(),(function(e){return new U(e)})),Pe=(0,P.bc)([(0,P.Z_)(),(0,P.i0)("base64")]),We=(0,P.oQ)((0,P.eE)(f.lW),Pe,(function(e){return f.lW.from(e[0],"base64")}));function _e(e){return(0,P.G0)([(0,P.dt)({jsonrpc:(0,P.i0)("2.0"),id:(0,P.Z_)(),result:e}),(0,P.dt)({jsonrpc:(0,P.i0)("2.0"),id:(0,P.Z_)(),error:(0,P.dt)({code:(0,P._4)(),message:(0,P.Z_)(),data:(0,P.jt)((0,P.Yj)())})})])}var Re=_e((0,P._4)());function Ze(e){return(0,P.oQ)(_e(e),Re,(function(t){return"error"in t?t:z(z({},t),{},{result:(0,P.Ue)(t.result,e)})}))}function ze(e){return Ze((0,P.dt)({context:(0,P.dt)({slot:(0,P.Rx)()}),value:e}))}function Ke(e){return(0,P.dt)({context:(0,P.dt)({slot:(0,P.Rx)()}),value:e})}var Be=(0,P.dt)({foundation:(0,P.Rx)(),foundationTerm:(0,P.Rx)(),initial:(0,P.Rx)(),taper:(0,P.Rx)(),terminal:(0,P.Rx)()}),Ee=(Ze((0,P.IX)((0,P.AG)((0,P.dt)({epoch:(0,P.Rx)(),effectiveSlot:(0,P.Rx)(),amount:(0,P.Rx)(),postBalance:(0,P.Rx)()})))),(0,P.dt)({epoch:(0,P.Rx)(),slotIndex:(0,P.Rx)(),slotsInEpoch:(0,P.Rx)(),absoluteSlot:(0,P.Rx)(),blockHeight:(0,P.jt)((0,P.Rx)()),transactionCount:(0,P.jt)((0,P.Rx)())})),Oe=(0,P.dt)({slotsPerEpoch:(0,P.Rx)(),leaderScheduleSlotOffset:(0,P.Rx)(),warmup:(0,P.O7)(),firstNormalEpoch:(0,P.Rx)(),firstNormalSlot:(0,P.Rx)()}),Te=(0,P.IM)((0,P.Z_)(),(0,P.IX)((0,P.Rx)())),qe=(0,P.AG)((0,P.G0)([(0,P.dt)({}),(0,P.Z_)()])),je=(0,P.dt)({err:qe}),Je=(0,P.i0)("receivedSignature");(0,P.dt)({"solana-core":(0,P.Z_)(),"feature-set":(0,P.jt)((0,P.Rx)())}),ze((0,P.dt)({err:(0,P.AG)((0,P.G0)([(0,P.dt)({}),(0,P.Z_)()])),logs:(0,P.AG)((0,P.IX)((0,P.Z_)())),accounts:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.AG)((0,P.dt)({executable:(0,P.O7)(),owner:(0,P.Z_)(),lamports:(0,P.Rx)(),data:(0,P.IX)((0,P.Z_)()),rentEpoch:(0,P.jt)((0,P.Rx)())}))))),unitsConsumed:(0,P.jt)((0,P.Rx)()),returnData:(0,P.jt)((0,P.AG)((0,P.dt)({programId:(0,P.Z_)(),data:(0,P.bc)([(0,P.Z_)(),(0,P.i0)("base64")])})))})),ze((0,P.dt)({byIdentity:(0,P.IM)((0,P.Z_)(),(0,P.IX)((0,P.Rx)())),range:(0,P.dt)({firstSlot:(0,P.Rx)(),lastSlot:(0,P.Rx)()})}));Ze(Be),Ze(Ee),Ze(Oe),Ze(Te),Ze((0,P.Rx)()),ze((0,P.dt)({total:(0,P.Rx)(),circulating:(0,P.Rx)(),nonCirculating:(0,P.Rx)(),nonCirculatingAccounts:(0,P.IX)(Ae)}));var Ge=(0,P.dt)({amount:(0,P.Z_)(),uiAmount:(0,P.AG)((0,P.Rx)()),decimals:(0,P.Rx)(),uiAmountString:(0,P.jt)((0,P.Z_)())}),Xe=(ze((0,P.IX)((0,P.dt)({address:Ae,amount:(0,P.Z_)(),uiAmount:(0,P.AG)((0,P.Rx)()),decimals:(0,P.Rx)(),uiAmountString:(0,P.jt)((0,P.Z_)())}))),ze((0,P.IX)((0,P.dt)({pubkey:Ae,account:(0,P.dt)({executable:(0,P.O7)(),owner:Ae,lamports:(0,P.Rx)(),data:We,rentEpoch:(0,P.Rx)()})}))),(0,P.dt)({program:(0,P.Z_)(),parsed:(0,P._4)(),space:(0,P.Rx)()})),Ce=(ze((0,P.IX)((0,P.dt)({pubkey:Ae,account:(0,P.dt)({executable:(0,P.O7)(),owner:Ae,lamports:(0,P.Rx)(),data:Xe,rentEpoch:(0,P.Rx)()})}))),ze((0,P.IX)((0,P.dt)({lamports:(0,P.Rx)(),address:Ae}))),(0,P.dt)({executable:(0,P.O7)(),owner:Ae,lamports:(0,P.Rx)(),data:We,rentEpoch:(0,P.Rx)()})),Le=((0,P.dt)({pubkey:Ae,account:Ce}),(0,P.oQ)((0,P.G0)([(0,P.eE)(f.lW),Xe]),(0,P.G0)([Pe,Xe]),(function(e){return Array.isArray(e)?(0,P.Ue)(e,We):e}))),Me=(0,P.dt)({executable:(0,P.O7)(),owner:Ae,lamports:(0,P.Rx)(),data:Le,rentEpoch:(0,P.Rx)()}),Ue=((0,P.dt)({pubkey:Ae,account:Me}),(0,P.dt)({state:(0,P.G0)([(0,P.i0)("active"),(0,P.i0)("inactive"),(0,P.i0)("activating"),(0,P.i0)("deactivating")]),active:(0,P.Rx)(),inactive:(0,P.Rx)()}),Ze((0,P.IX)((0,P.dt)({signature:(0,P.Z_)(),slot:(0,P.Rx)(),err:qe,memo:(0,P.AG)((0,P.Z_)()),blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)()))}))),Ze((0,P.IX)((0,P.dt)({signature:(0,P.Z_)(),slot:(0,P.Rx)(),err:qe,memo:(0,P.AG)((0,P.Z_)()),blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)()))}))),(0,P.dt)({subscription:(0,P.Rx)(),result:Ke(Ce)}),(0,P.dt)({pubkey:Ae,account:Ce})),De=((0,P.dt)({subscription:(0,P.Rx)(),result:Ke(Ue)}),(0,P.dt)({parent:(0,P.Rx)(),slot:(0,P.Rx)(),root:(0,P.Rx)()})),Ne=((0,P.dt)({subscription:(0,P.Rx)(),result:De}),(0,P.G0)([(0,P.dt)({type:(0,P.G0)([(0,P.i0)("firstShredReceived"),(0,P.i0)("completed"),(0,P.i0)("optimisticConfirmation"),(0,P.i0)("root")]),slot:(0,P.Rx)(),timestamp:(0,P.Rx)()}),(0,P.dt)({type:(0,P.i0)("createdBank"),parent:(0,P.Rx)(),slot:(0,P.Rx)(),timestamp:(0,P.Rx)()}),(0,P.dt)({type:(0,P.i0)("frozen"),slot:(0,P.Rx)(),timestamp:(0,P.Rx)(),stats:(0,P.dt)({numTransactionEntries:(0,P.Rx)(),numSuccessfulTransactions:(0,P.Rx)(),numFailedTransactions:(0,P.Rx)(),maxTransactionsPerEntry:(0,P.Rx)()})}),(0,P.dt)({type:(0,P.i0)("dead"),slot:(0,P.Rx)(),timestamp:(0,P.Rx)(),err:(0,P.Z_)()})])),Ve=((0,P.dt)({subscription:(0,P.Rx)(),result:Ne}),(0,P.dt)({subscription:(0,P.Rx)(),result:Ke((0,P.G0)([je,Je]))}),(0,P.dt)({subscription:(0,P.Rx)(),result:(0,P.Rx)()}),(0,P.dt)({pubkey:(0,P.Z_)(),gossip:(0,P.AG)((0,P.Z_)()),tpu:(0,P.AG)((0,P.Z_)()),rpc:(0,P.AG)((0,P.Z_)()),version:(0,P.AG)((0,P.Z_)())}),(0,P.dt)({votePubkey:(0,P.Z_)(),nodePubkey:(0,P.Z_)(),activatedStake:(0,P.Rx)(),epochVoteAccount:(0,P.O7)(),epochCredits:(0,P.IX)((0,P.bc)([(0,P.Rx)(),(0,P.Rx)(),(0,P.Rx)()])),commission:(0,P.Rx)(),lastVote:(0,P.Rx)(),rootSlot:(0,P.AG)((0,P.Rx)())})),He=(Ze((0,P.dt)({current:(0,P.IX)(Ve),delinquent:(0,P.IX)(Ve)})),(0,P.G0)([(0,P.i0)("processed"),(0,P.i0)("confirmed"),(0,P.i0)("finalized")])),Fe=(0,P.dt)({slot:(0,P.Rx)(),confirmations:(0,P.AG)((0,P.Rx)()),err:qe,confirmationStatus:(0,P.jt)(He)}),Qe=(ze((0,P.IX)((0,P.AG)(Fe))),Ze((0,P.Rx)()),(0,P.dt)({accountKey:Ae,writableIndexes:(0,P.IX)((0,P.Rx)()),readonlyIndexes:(0,P.IX)((0,P.Rx)())})),$e=(0,P.dt)({signatures:(0,P.IX)((0,P.Z_)()),message:(0,P.dt)({accountKeys:(0,P.IX)((0,P.Z_)()),header:(0,P.dt)({numRequiredSignatures:(0,P.Rx)(),numReadonlySignedAccounts:(0,P.Rx)(),numReadonlyUnsignedAccounts:(0,P.Rx)()}),instructions:(0,P.IX)((0,P.dt)({accounts:(0,P.IX)((0,P.Rx)()),data:(0,P.Z_)(),programIdIndex:(0,P.Rx)()})),recentBlockhash:(0,P.Z_)(),addressTableLookups:(0,P.jt)((0,P.IX)(Qe))})}),Ye=(0,P.dt)({parsed:(0,P._4)(),program:(0,P.Z_)(),programId:Ae}),et=(0,P.dt)({accounts:(0,P.IX)(Ae),data:(0,P.Z_)(),programId:Ae}),tt=(0,P.G0)([et,Ye]),rt=(0,P.G0)([(0,P.dt)({parsed:(0,P._4)(),program:(0,P.Z_)(),programId:(0,P.Z_)()}),(0,P.dt)({accounts:(0,P.IX)((0,P.Z_)()),data:(0,P.Z_)(),programId:(0,P.Z_)()})]),nt=(0,P.oQ)(tt,rt,(function(e){return"accounts"in e?(0,P.Ue)(e,et):(0,P.Ue)(e,Ye)})),it=(0,P.dt)({signatures:(0,P.IX)((0,P.Z_)()),message:(0,P.dt)({accountKeys:(0,P.IX)((0,P.dt)({pubkey:Ae,signer:(0,P.O7)(),writable:(0,P.O7)(),source:(0,P.jt)((0,P.G0)([(0,P.i0)("transaction"),(0,P.i0)("lookupTable")]))})),instructions:(0,P.IX)(nt),recentBlockhash:(0,P.Z_)(),addressTableLookups:(0,P.jt)((0,P.AG)((0,P.IX)(Qe)))})}),at=(0,P.dt)({accountIndex:(0,P.Rx)(),mint:(0,P.Z_)(),owner:(0,P.jt)((0,P.Z_)()),uiTokenAmount:Ge}),ot=(0,P.dt)({writable:(0,P.IX)(Ae),readonly:(0,P.IX)(Ae)}),st=(0,P.dt)({err:qe,fee:(0,P.Rx)(),innerInstructions:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.dt)({index:(0,P.Rx)(),instructions:(0,P.IX)((0,P.dt)({accounts:(0,P.IX)((0,P.Rx)()),data:(0,P.Z_)(),programIdIndex:(0,P.Rx)()}))})))),preBalances:(0,P.IX)((0,P.Rx)()),postBalances:(0,P.IX)((0,P.Rx)()),logMessages:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.Z_)()))),preTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(at))),postTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(at))),loadedAddresses:(0,P.jt)(ot),computeUnitsConsumed:(0,P.jt)((0,P.Rx)())}),ut=(0,P.dt)({err:qe,fee:(0,P.Rx)(),innerInstructions:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.dt)({index:(0,P.Rx)(),instructions:(0,P.IX)(nt)})))),preBalances:(0,P.IX)((0,P.Rx)()),postBalances:(0,P.IX)((0,P.Rx)()),logMessages:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.Z_)()))),preTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(at))),postTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(at))),loadedAddresses:(0,P.jt)(ot),computeUnitsConsumed:(0,P.jt)((0,P.Rx)())}),ct=(0,P.G0)([(0,P.i0)(0),(0,P.i0)("legacy")]),lt=(Ze((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:$e,meta:(0,P.AG)(st),version:(0,P.jt)(ct)})),rewards:(0,P.jt)((0,P.IX)((0,P.dt)({pubkey:(0,P.Z_)(),lamports:(0,P.Rx)(),postBalance:(0,P.AG)((0,P.Rx)()),rewardType:(0,P.AG)((0,P.Z_)())}))),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),Ze((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:it,meta:(0,P.AG)(ut),version:(0,P.jt)(ct)})),rewards:(0,P.jt)((0,P.IX)((0,P.dt)({pubkey:(0,P.Z_)(),lamports:(0,P.Rx)(),postBalance:(0,P.AG)((0,P.Rx)()),rewardType:(0,P.AG)((0,P.Z_)())}))),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),Ze((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:$e,meta:(0,P.AG)(st)})),rewards:(0,P.jt)((0,P.IX)((0,P.dt)({pubkey:(0,P.Z_)(),lamports:(0,P.Rx)(),postBalance:(0,P.AG)((0,P.Rx)()),rewardType:(0,P.AG)((0,P.Z_)())}))),blockTime:(0,P.AG)((0,P.Rx)())}))),Ze((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),signatures:(0,P.IX)((0,P.Z_)()),blockTime:(0,P.AG)((0,P.Rx)())}))),Ze((0,P.AG)((0,P.dt)({slot:(0,P.Rx)(),meta:st,blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)())),transaction:$e,version:(0,P.jt)(ct)}))),Ze((0,P.AG)((0,P.dt)({slot:(0,P.Rx)(),transaction:it,meta:(0,P.AG)(ut),blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)())),version:(0,P.jt)(ct)}))),ze((0,P.dt)({blockhash:(0,P.Z_)(),feeCalculator:(0,P.dt)({lamportsPerSignature:(0,P.Rx)()})})),ze((0,P.dt)({blockhash:(0,P.Z_)(),lastValidBlockHeight:(0,P.Rx)()})),(0,P.dt)({slot:(0,P.Rx)(),numTransactions:(0,P.Rx)(),numSlots:(0,P.Rx)(),samplePeriodSecs:(0,P.Rx)()})),dt=(Ze((0,P.IX)(lt)),ze((0,P.AG)((0,P.dt)({feeCalculator:(0,P.dt)({lamportsPerSignature:(0,P.Rx)()})}))),Ze((0,P.Z_)()),Ze((0,P.Z_)()),(0,P.dt)({err:qe,logs:(0,P.IX)((0,P.Z_)()),signature:(0,P.Z_)()})),yt=((0,P.dt)({result:Ke(dt),subscription:(0,P.Rx)()}),"js/".concat(null!==(we="0.0.0-development")?we:"UNKNOWN"),function(){function e(t){(0,d.Z)(this,e),this._keypair=void 0,this._keypair=null!=t?t:O()}return(0,y.Z)(e,[{key:"publicKey",get:function(){return new U(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new e(O())}},{key:"fromSecretKey",value:function(t,r){if(64!==t.byteLength)throw new Error("bad secret key size");var n=t.slice(32,64);if(!r||!r.skipValidation)for(var i=t.slice(0,32),a=T(i),o=0;o<32;o++)if(n[o]!==a[o])throw new Error("provided secretKey is invalid");return new e({publicKey:n,secretKey:t})}},{key:"fromSeed",value:function(t){var r=T(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}}]),e}()),ht=Object.freeze({CreateLookupTable:{index:0,layout:w.n_([w.Jq("instruction"),ve("recentSlot"),w.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:w.n_([w.Jq("instruction")])},ExtendLookupTable:{index:2,layout:w.n_([w.Jq("instruction"),ve(),w.A9(F(),w.cv(w.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:w.n_([w.Jq("instruction")])},CloseLookupTable:{index:4,layout:w.n_([w.Jq("instruction")])}}),pt=function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"createLookupTable",value:function(e){var t=U.findProgramAddressSync([e.authority.toBuffer(),(0,A.k$)(BigInt(e.recentSlot),8)],this.programId),r=(0,i.Z)(t,2),n=r[0],a=r[1],o=fe(ht.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:a}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Se.programId,isSigner:!1,isWritable:!1}];return[new oe({programId:this.programId,keys:s,data:o}),n]}},{key:"freezeLookupTable",value:function(e){var t=fe(ht.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oe({programId:this.programId,keys:r,data:t})}},{key:"extendLookupTable",value:function(e){var t=fe(ht.ExtendLookupTable,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Se.programId,isSigner:!1,isWritable:!1}),new oe({programId:this.programId,keys:r,data:t})}},{key:"deactivateLookupTable",value:function(e){var t=fe(ht.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oe({programId:this.programId,keys:r,data:t})}},{key:"closeLookupTable",value:function(e){var t=fe(ht.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new oe({programId:this.programId,keys:r,data:t})}}]),e}();pt.programId=new U("AddressLookupTab1e1111111111111111111111111");var ft=Object.freeze({RequestUnits:{index:0,layout:w.n_([w.u8("instruction"),w.Jq("units"),w.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:w.n_([w.u8("instruction"),w.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:w.n_([w.u8("instruction"),w.Jq("units")])},SetComputeUnitPrice:{index:3,layout:w.n_([w.u8("instruction"),ve("microLamports")])}}),gt=function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"requestUnits",value:function(e){var t=fe(ft.RequestUnits,e);return new oe({keys:[],programId:this.programId,data:t})}},{key:"requestHeapFrame",value:function(e){var t=fe(ft.RequestHeapFrame,e);return new oe({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitLimit",value:function(e){var t=fe(ft.SetComputeUnitLimit,e);return new oe({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitPrice",value:function(e){var t=fe(ft.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new oe({keys:[],programId:this.programId,data:t})}}]),e}();gt.programId=new U("ComputeBudget111111111111111111111111111111");var bt=w.n_([w.u8("numSignatures"),w.u8("padding"),w.KB("signatureOffset"),w.KB("signatureInstructionIndex"),w.KB("publicKeyOffset"),w.KB("publicKeyInstructionIndex"),w.KB("messageDataOffset"),w.KB("messageDataSize"),w.KB("messageInstructionIndex")]),kt=function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.instructionIndex;te(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),te(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var o=bt.span,s=o+r.length,u=s+i.length,c=f.lW.alloc(u+n.length),l=null==a?65535:a;return bt.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:l},c),c.fill(r,o),c.fill(i,s),c.fill(n,u),new oe({keys:[],programId:e.programId,data:c})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;te(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=yt.fromSecretKey(t),a=i.publicKey.toBytes(),o=j(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}();kt.programId=new U("Ed25519SigVerify111111111111111111111111111"),R.P6.hmacSha256Sync=function(e){for(var t=_.b.create(S.J,e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(e){return t.update(e)})),t.digest()};R.P6.isValidPrivateKey;var mt=R.$3,vt=w.n_([w.u8("numSignatures"),w.KB("signatureOffset"),w.u8("signatureInstructionIndex"),w.KB("ethAddressOffset"),w.u8("ethAddressInstructionIndex"),w.KB("messageDataOffset"),w.KB("messageDataSize"),w.u8("messageInstructionIndex"),w.Ik(20,"ethAddress"),w.Ik(64,"signature"),w.u8("recoveryId")]),It=function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"publicKeyToEthAddress",value:function(e){te(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return f.lW.from((0,W.fr)(G(e))).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.recoveryId,o=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:a,instructionIndex:o})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,a=t.signature,o=t.recoveryId,s=t.instructionIndex,u=void 0===s?0:s;te(20===(r="string"==typeof n?n.startsWith("0x")?f.lW.from(n.substr(2),"hex"):f.lW.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var c=12+r.length,l=c+a.length+1,d=f.lW.alloc(vt.span+i.length);return vt.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:l,messageDataSize:i.length,messageInstructionIndex:u,signature:G(a),ethAddress:G(r),recoveryId:o},d),d.fill(G(i),vt.span),new oe({keys:[],programId:e.programId,data:d})}},{key:"createInstructionWithPrivateKey",value:function(e){var t,r,n=e.privateKey,a=e.message,o=e.instructionIndex;te(32===n.length,"Private key must be ".concat(32," bytes but received ").concat(n.length," bytes"));try{var s=G(n),u=mt(s,!1).slice(1),c=f.lW.from((0,W.fr)(G(a))),l=(t=c,r=s,R.kS(t,r,{der:!1,recovered:!0})),d=(0,i.Z)(l,2),y=d[0],h=d[1];return this.createInstructionWithPublicKey({publicKey:u,message:a,signature:y,recoveryId:h,instructionIndex:o})}catch(p){throw new Error("Error creating instruction; ".concat(p))}}}]),e}();It.programId=new U("KeccakSecp256k11111111111111111111111111111");var St=new U("StakeConfig11111111111111111111111111111111"),xt=(0,y.Z)((function e(t,r,n){(0,d.Z)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));xt.default=new xt(0,0,U.default);var wt=Object.freeze({Initialize:{index:0,layout:w.n_([w.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return w.n_([F("staker"),F("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return w.n_([w.gM("unixTimestamp"),w.gM("epoch"),F("custodian")],e)}()])},Authorize:{index:1,layout:w.n_([w.Jq("instruction"),F("newAuthorized"),w.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:w.n_([w.Jq("instruction")])},Split:{index:3,layout:w.n_([w.Jq("instruction"),w.gM("lamports")])},Withdraw:{index:4,layout:w.n_([w.Jq("instruction"),w.gM("lamports")])},Deactivate:{index:5,layout:w.n_([w.Jq("instruction")])},Merge:{index:7,layout:w.n_([w.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:w.n_([w.Jq("instruction"),F("newAuthorized"),w.Jq("stakeAuthorizationType"),Q("authoritySeed"),F("authorityOwner")])}}),At=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||xt.default,i=fe(wt.Initialize,{authorized:{staker:G(r.staker.toBuffer()),withdrawer:G(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:G(n.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new oe(a)}},{key:"createAccountWithSeed",value:function(e){var t=new se;t.add(Se.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new se;t.add(Se.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=fe(wt.Delegate);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1},{pubkey:St,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,a=e.custodianPubkey,o=fe(wt.Authorize,{newAuthorized:G(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&s.push({pubkey:a,isSigner:!1,isWritable:!1}),(new se).add({keys:s,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,a=e.newAuthorizedPubkey,o=e.stakeAuthorizationType,s=e.custodianPubkey,u=fe(wt.AuthorizeWithSeed,{newAuthorized:G(a.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:G(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),(new se).add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,a=fe(wt.Split,{lamports:i});return new oe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"split",value:function(e){var t=new se;return t.add(Se.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,a=e.seed,o=e.lamports,s=new se;return s.add(Se.allocate({accountPubkey:n,basePubkey:i,seed:a,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=fe(wt.Merge);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,a=e.custodianPubkey,o=fe(wt.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&s.push({pubkey:a,isSigner:!1,isWritable:!1}),(new se).add({keys:s,programId:this.programId,data:o})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=fe(wt.Deactivate);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());At.programId=new U("Stake11111111111111111111111111111111111111"),At.space=200;var Pt=Object.freeze({InitializeAccount:{index:0,layout:w.n_([w.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return w.n_([F("nodePubkey"),F("authorizedVoter"),F("authorizedWithdrawer"),w.u8("commission")],e)}()])},Authorize:{index:1,layout:w.n_([w.Jq("instruction"),F("newAuthorized"),w.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:w.n_([w.Jq("instruction"),w.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:w.n_([w.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return w.n_([w.Jq("voteAuthorizationType"),F("currentAuthorityDerivedKeyOwnerPubkey"),Q("currentAuthorityDerivedKeySeed"),F("newAuthorized")],e)}()])}}),Wt=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,d.Z)(this,e)}return(0,y.Z)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=fe(Pt.InitializeAccount,{voteInit:{nodePubkey:G(n.nodePubkey.toBuffer()),authorizedVoter:G(n.authorizedVoter.toBuffer()),authorizedWithdrawer:G(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new oe(a)}},{key:"createAccount",value:function(e){var t=new se;return t.add(Se.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,a=fe(Pt.Authorize,{newAuthorized:G(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new se).add({keys:o,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.currentAuthorityDerivedKeyBasePubkey,r=e.currentAuthorityDerivedKeyOwnerPubkey,n=e.currentAuthorityDerivedKeySeed,i=e.newAuthorizedPubkey,a=e.voteAuthorizationType,o=e.votePubkey,s=fe(Pt.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:G(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:G(i.toBuffer()),voteAuthorizationType:a.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new se).add({keys:u,programId:this.programId,data:s})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,a=fe(Pt.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new se).add({keys:o,programId:this.programId,data:a})}},{key:"safeWithdraw",value:function(t,r,n){if(t.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}}]),e}());Wt.programId=new U("Vote111111111111111111111111111111111111111"),Wt.space=3731;new U("Va1idator1nfo111111111111111111111111111111"),(0,P.dt)({name:(0,P.Z_)(),website:(0,P.jt)((0,P.Z_)()),details:(0,P.jt)((0,P.Z_)()),keybaseUsername:(0,P.jt)((0,P.Z_)())}),new U("Vote111111111111111111111111111111111111111"),w.n_([F("nodePubkey"),F("authorizedWithdrawer"),w.u8("commission"),w._O(),w.A9(w.n_([w._O("slot"),w.Jq("confirmationCount")]),w.cv(w.Jq(),-8),"votes"),w.u8("rootSlotValid"),w._O("rootSlot"),w._O(),w.A9(w.n_([w._O("epoch"),F("authorizedVoter")]),w.cv(w.Jq(),-8),"authorizedVoters"),w.n_([w.A9(w.n_([F("authorizedPubkey"),w._O("epochOfLastAuthorizedSwitch"),w._O("targetEpoch")]),32,"buf"),w._O("idx"),w.u8("isEmpty")],"priorVoters"),w._O(),w.A9(w.n_([w._O("epoch"),w._O("credits"),w._O("prevCredits")]),w.cv(w.Jq(),-8),"epochCredits"),w.n_([w._O("slot"),w._O("timestamp")],"lastTimestamp")])}}]);